<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="../src/fun.js"></script>
</head>
<body>

<script>
    var compiler = new Xania.Ast.Compiler();
    var fn = compiler.expr("for x in todos |> math.lt 3 -> math.add 10 x");
    var context = {
        todos: [1, 2, 3],
        math: {
            lt: function (max, list) {
                return list.filter(function (x) { return x < max; });
            },
            add: function (x, y) { return x + y; }
        }
    };
    var actual = fn.execute(context);
    // expect(actual).toEqual([2, 3]);
    console.debug("actual", actual);
</script>
</body>
</html>
