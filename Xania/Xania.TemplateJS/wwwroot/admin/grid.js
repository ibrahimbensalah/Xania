"use strict";
var xania_1 = require("../src/xania");
require("./grid.css");
var DataGrid = (function () {
    function DataGrid() {
        var _this = this;
        this.data = [];
        this.columns = [];
        this.activeRow = null;
        this.activeRecord = null;
        this.onRowClick = function (event, context) {
            var activeRow = context.get('row').valueOf();
            _this.activeRow = activeRow;
            _this.activeRecord = activeRow.data;
            event.preventDefault();
        };
        this.columns.push({ field: "name" });
        this.columns.push({ field: "email" });
        this.columns.push({ field: "roles" });
    }
    DataGrid.prototype.cellValue = function (row, column) {
        return row[column.field];
    };
    DataGrid.prototype.view = function (xania) {
        return (xania.tag("div", { id: "users", "data-modelid": "Id", className: "xn-grid", role: "grid", "data-itemheight": "31" },
            xania.tag("div", { className: "xn-border-box xn-grid-header", style: "z-index: 100" },
                xania.tag("div", { role: "rowheader", className: "xn-grid-row-header xn-grid-header-cell" }, "\u00A0"),
                xania.tag(xania_1.ForEach, { expr: xania_1.query("for column in columns") },
                    xania.tag("div", { "data-idx": "UserName", role: "gridcell", className: "xn-grid-header-cell" },
                        xania.tag("div", { className: "xn-grid-cell-content" },
                            xania.tag("a", { "data-bind": "click: sort.bind($data, 'UserName')" }, xania_1.query("column.field"))))),
                xania.tag("div", { className: "xn-grid-header-cell", style: "width: 100%; min-width: 100px" }, "\u00A0")),
            xania.tag("div", { className: "xn-list-scrollable", style: "overflow: auto; height: 100%;", role: "listbox" },
                xania.tag("div", { className: "xn-content", style: "padding-top: 0px; " },
                    xania.tag("table", { style: "width: 100%;" },
                        xania.tag("tbody", { "data-bind": "foreach: view" },
                            xania.tag(xania_1.ForEach, { expr: xania_1.query("for row in data") },
                                xania.tag("tr", { role: "listitem", onClick: this.onRowClick, className: ["xn-list-item", xania_1.query("row = activeRow -> ' xn-grid-row-activated'"),
                                        xania_1.query("row.alternate -> ' xn-grid-row-alternate'"), xania_1.query("row.updated -> ' xn-grid-row-updated'")] },
                                    xania.tag("td", null,
                                        xania.tag("div", { className: "xn-grid-row-header" },
                                            xania.tag("span", { className: ["fa", xania_1.query("row = activeRow -> ' fa-edit'")] }))),
                                    xania.tag(xania_1.ForEach, { expr: xania_1.query("for column in columns") },
                                        xania.tag("td", { role: "gridcell", tabindex: "-1", className: "xn-grid-cell" },
                                            xania.tag("div", { className: "xn-grid-cell-content" },
                                                xania.tag("a", { href: "#" }, xania_1.query("cellValue row column"))))),
                                    xania.tag("td", { role: "gridcell", tabindex: "-1", className: "xn-grid-cell", style: "width: 100%;" })))))))));
    };
    return DataGrid;
}());
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = DataGrid;
function bla() { }
exports.bla = bla;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JpZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImdyaWQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxzQ0FBNkM7QUFDN0Msc0JBQW1CO0FBRW5CO0lBTUk7UUFBQSxpQkFNQztRQVhPLFNBQUksR0FBRyxFQUFFLENBQUM7UUFDVixZQUFPLEdBQUcsRUFBRSxDQUFDO1FBQ2IsY0FBUyxHQUFHLElBQUksQ0FBQztRQUNqQixpQkFBWSxHQUFHLElBQUksQ0FBQztRQVU1QixlQUFVLEdBQUcsVUFBQyxLQUFLLEVBQUUsT0FBTztZQUN4QixJQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQzdDLEtBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1lBQzNCLEtBQUksQ0FBQyxZQUFZLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQztZQUNuQyxLQUFLLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDM0IsQ0FBQyxDQUFDO1FBWkUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLENBQUMsQ0FBQztRQUNyQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsQ0FBQyxDQUFDO1FBQ3RDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7SUFHMUMsQ0FBQztJQVNELDRCQUFTLEdBQVQsVUFBVSxHQUFHLEVBQUUsTUFBTTtRQUNqQixNQUFNLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBRUQsdUJBQUksR0FBSixVQUFLLEtBQUs7UUFDTixNQUFNLENBQUMsQ0FDSCxtQkFBSyxFQUFFLEVBQUMsT0FBTyxrQkFBYyxJQUFJLEVBQUMsU0FBUyxFQUFDLFNBQVMsRUFBQyxJQUFJLEVBQUMsTUFBTSxxQkFBaUIsSUFBSTtZQUNsRixtQkFBSyxTQUFTLEVBQUMsOEJBQThCLEVBQUMsS0FBSyxFQUFDLGNBQWM7Z0JBQzlELG1CQUFLLElBQUksRUFBQyxXQUFXLEVBQUMsU0FBUyxFQUFDLHdDQUF3QyxhQUFhO2dCQUNyRixVQUFDLGVBQU8sSUFBQyxJQUFJLEVBQUUsYUFBSyxDQUFDLHVCQUF1QixDQUFDO29CQUN6QywrQkFBYyxVQUFVLEVBQUMsSUFBSSxFQUFDLFVBQVUsRUFBQyxTQUFTLEVBQUMscUJBQXFCO3dCQUNwRSxtQkFBSyxTQUFTLEVBQUMsc0JBQXNCOzRCQUFDLDhCQUFhLHFDQUFxQyxJQUFFLGFBQUssQ0FBQyxjQUFjLENBQUMsQ0FBSyxDQUFNLENBQ3hILENBQ0E7Z0JBQ1YsbUJBQUssU0FBUyxFQUFDLHFCQUFxQixFQUFDLEtBQUssRUFBQywrQkFBK0IsYUFBYSxDQUNyRjtZQUVOLG1CQUFLLFNBQVMsRUFBQyxvQkFBb0IsRUFBQyxLQUFLLEVBQUMsK0JBQStCLEVBQUMsSUFBSSxFQUFDLFNBQVM7Z0JBQ3BGLG1CQUFLLFNBQVMsRUFBQyxZQUFZLEVBQUMsS0FBSyxFQUFDLG9CQUFvQjtvQkFDbEQscUJBQU8sS0FBSyxFQUFDLGNBQWM7d0JBQ3ZCLGtDQUFpQixlQUFlOzRCQUM1QixVQUFDLGVBQU8sSUFBQyxJQUFJLEVBQUUsYUFBSyxDQUFDLGlCQUFpQixDQUFDO2dDQUNuQyxrQkFBSSxJQUFJLEVBQUMsVUFBVSxFQUNmLE9BQU8sRUFBRSxJQUFJLENBQUMsVUFBVSxFQUN4QixTQUFTLEVBQUUsQ0FBQyxjQUFjLEVBQUUsYUFBSyxDQUFDLDZDQUE2QyxDQUFDO3dDQUN4RSxhQUFLLENBQUMsMkNBQTJDLENBQUMsRUFBRSxhQUFLLENBQUMsdUNBQXVDLENBQUMsQ0FBQztvQ0FDM0c7d0NBQ0ksbUJBQUssU0FBUyxFQUFDLG9CQUFvQjs0Q0FDL0Isb0JBQU0sU0FBUyxFQUFFLENBQUMsSUFBSSxFQUFFLGFBQUssQ0FBQywrQkFBK0IsQ0FBQyxDQUFDLEdBQVMsQ0FDdEUsQ0FDTDtvQ0FDTCxVQUFDLGVBQU8sSUFBQyxJQUFJLEVBQUUsYUFBSyxDQUFDLHVCQUF1QixDQUFDO3dDQUN6QyxrQkFBSSxJQUFJLEVBQUMsVUFBVSxFQUFDLFFBQVEsRUFBQyxJQUFJLEVBQUMsU0FBUyxFQUFDLGNBQWM7NENBQ3RELG1CQUFLLFNBQVMsRUFBQyxzQkFBc0I7Z0RBQUMsaUJBQUcsSUFBSSxFQUFDLEdBQUcsSUFBRSxhQUFLLENBQUMsc0JBQXNCLENBQUMsQ0FBSyxDQUFNLENBQzFGLENBQ0M7b0NBQ1Ysa0JBQUksSUFBSSxFQUFDLFVBQVUsRUFBQyxRQUFRLEVBQUMsSUFBSSxFQUFDLFNBQVMsRUFBQyxjQUFjLEVBQUMsS0FBSyxFQUFDLGNBQWMsR0FBTSxDQUNwRixDQUNDLENBQ04sQ0FDSixDQUNOLENBQ0osQ0FDSixDQUNULENBQUM7SUFDTixDQUFDO0lBQ0wsZUFBQztBQUFELENBQUMsQUFuRUQsSUFtRUM7OztBQUVELGlCQUF3QixDQUFDO0FBQXpCLGtCQUF5QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEZvckVhY2gsIHF1ZXJ5IH0gZnJvbSBcIi4uL3NyYy94YW5pYVwiXHJcbmltcG9ydCAnLi9ncmlkLmNzcydcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhdGFHcmlkIHtcclxuICAgIHByaXZhdGUgZGF0YSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBjb2x1bW5zID0gW107XHJcbiAgICBwcml2YXRlIGFjdGl2ZVJvdyA9IG51bGw7XHJcbiAgICBwcml2YXRlIGFjdGl2ZVJlY29yZCA9IG51bGw7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5jb2x1bW5zLnB1c2goeyBmaWVsZDogXCJuYW1lXCIgfSk7XHJcbiAgICAgICAgdGhpcy5jb2x1bW5zLnB1c2goeyBmaWVsZDogXCJlbWFpbFwiIH0pO1xyXG4gICAgICAgIHRoaXMuY29sdW1ucy5wdXNoKHsgZmllbGQ6IFwicm9sZXNcIiB9KTtcclxuXHJcbiAgICAgICAgLy8gRW1haWxDb25maXJtZWRcclxuICAgIH1cclxuXHJcbiAgICBvblJvd0NsaWNrID0gKGV2ZW50LCBjb250ZXh0KSA9PiB7XHJcbiAgICAgICAgdmFyIGFjdGl2ZVJvdyA9IGNvbnRleHQuZ2V0KCdyb3cnKS52YWx1ZU9mKCk7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVSb3cgPSBhY3RpdmVSb3c7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVSZWNvcmQgPSBhY3RpdmVSb3cuZGF0YTtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICBjZWxsVmFsdWUocm93LCBjb2x1bW4pIHtcclxuICAgICAgICByZXR1cm4gcm93W2NvbHVtbi5maWVsZF07XHJcbiAgICB9XHJcblxyXG4gICAgdmlldyh4YW5pYSkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJ1c2Vyc1wiIGRhdGEtbW9kZWxpZD1cIklkXCIgY2xhc3NOYW1lPVwieG4tZ3JpZFwiIHJvbGU9XCJncmlkXCIgZGF0YS1pdGVtaGVpZ2h0PVwiMzFcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwieG4tYm9yZGVyLWJveCB4bi1ncmlkLWhlYWRlclwiIHN0eWxlPVwiei1pbmRleDogMTAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiByb2xlPVwicm93aGVhZGVyXCIgY2xhc3NOYW1lPVwieG4tZ3JpZC1yb3ctaGVhZGVyIHhuLWdyaWQtaGVhZGVyLWNlbGxcIj4mbmJzcDs8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8Rm9yRWFjaCBleHByPXtxdWVyeShcImZvciBjb2x1bW4gaW4gY29sdW1uc1wiKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1pZHg9XCJVc2VyTmFtZVwiIHJvbGU9XCJncmlkY2VsbFwiIGNsYXNzTmFtZT1cInhuLWdyaWQtaGVhZGVyLWNlbGxcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwieG4tZ3JpZC1jZWxsLWNvbnRlbnRcIj48YSBkYXRhLWJpbmQ9XCJjbGljazogc29ydC5iaW5kKCRkYXRhLCAnVXNlck5hbWUnKVwiPntxdWVyeShcImNvbHVtbi5maWVsZFwiKX08L2E+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvRm9yRWFjaD5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInhuLWdyaWQtaGVhZGVyLWNlbGxcIiBzdHlsZT1cIndpZHRoOiAxMDAlOyBtaW4td2lkdGg6IDEwMHB4XCI+Jm5ic3A7PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInhuLWxpc3Qtc2Nyb2xsYWJsZVwiIHN0eWxlPVwib3ZlcmZsb3c6IGF1dG87IGhlaWdodDogMTAwJTtcIiByb2xlPVwibGlzdGJveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwieG4tY29udGVudFwiIHN0eWxlPVwicGFkZGluZy10b3A6IDBweDsgXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBzdHlsZT1cIndpZHRoOiAxMDAlO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5IGRhdGEtYmluZD1cImZvcmVhY2g6IHZpZXdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9yRWFjaCBleHByPXtxdWVyeShcImZvciByb3cgaW4gZGF0YVwiKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciByb2xlPVwibGlzdGl0ZW1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vblJvd0NsaWNrfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtbXCJ4bi1saXN0LWl0ZW1cIiwgcXVlcnkoXCJyb3cgPSBhY3RpdmVSb3cgLT4gJyB4bi1ncmlkLXJvdy1hY3RpdmF0ZWQnXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeShcInJvdy5hbHRlcm5hdGUgLT4gJyB4bi1ncmlkLXJvdy1hbHRlcm5hdGUnXCIpLCBxdWVyeShcInJvdy51cGRhdGVkIC0+ICcgeG4tZ3JpZC1yb3ctdXBkYXRlZCdcIildfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInhuLWdyaWQtcm93LWhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1tcImZhXCIsIHF1ZXJ5KFwicm93ID0gYWN0aXZlUm93IC0+ICcgZmEtZWRpdCdcIildfT48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvckVhY2ggZXhwcj17cXVlcnkoXCJmb3IgY29sdW1uIGluIGNvbHVtbnNcIil9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCByb2xlPVwiZ3JpZGNlbGxcIiB0YWJpbmRleD1cIi0xXCIgY2xhc3NOYW1lPVwieG4tZ3JpZC1jZWxsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwieG4tZ3JpZC1jZWxsLWNvbnRlbnRcIj48YSBocmVmPVwiI1wiPntxdWVyeShcImNlbGxWYWx1ZSByb3cgY29sdW1uXCIpfTwvYT48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JFYWNoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHJvbGU9XCJncmlkY2VsbFwiIHRhYmluZGV4PVwiLTFcIiBjbGFzc05hbWU9XCJ4bi1ncmlkLWNlbGxcIiBzdHlsZT1cIndpZHRoOiAxMDAlO1wiPjwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JFYWNoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYmxhKCkgeyB9Il19