"use strict";
var xania_1 = require("../src/xania");
require("./grid.css");
var DataGrid = (function () {
    function DataGrid() {
        var _this = this;
        this.data = [];
        this.columns = [];
        this.activeRow = null;
        this.onRowChanged = null;
        this.onRowClick = function (event, context) {
            var activeRow = context.get('row').valueOf();
            _this.activeRow = activeRow;
            event.preventDefault();
            if (typeof _this.onRowChanged === "function") {
                _this.onRowChanged(activeRow, _this);
            }
        };
        this.columns.push({ field: "Name" });
        this.columns.push({ field: "Email" });
        this.columns.push({ field: "Roles" });
        for (var e = 0; e < 100; e++) {
            this.data.push({
                idx: e,
                data: { Id: e, Name: "User " + e, Email: "user" + e + "@xania.nl", Roles: ["Role 1", "Role 12"], EmailConfirmed: e % 3 === 0 },
                get: function (field) {
                    return this.data[field];
                },
                alternate: e % 2 === 0
            });
        }
    }
    DataGrid.prototype.view = function (xania) {
        return (xania.tag("div", { id: "users", "data-modelid": "Id", className: "xn-grid", role: "grid", "data-itemheight": "31" },
            xania.tag("div", { className: "xn-border-box xn-grid-header", style: "z-index: 100" },
                xania.tag("div", { role: "rowheader", className: "xn-grid-row-header xn-grid-header-cell" }, "\u00A0"),
                xania.tag(xania_1.ForEach, { expr: xania_1.fs("for column in columns") },
                    xania.tag("div", { "data-idx": "UserName", role: "gridcell", className: "xn-grid-header-cell" },
                        xania.tag("div", { className: "xn-grid-cell-content" },
                            xania.tag("a", { "data-bind": "click: sort.bind($data, 'UserName')" }, xania_1.fs("column.field"))))),
                xania.tag("div", { className: "xn-grid-header-cell", style: "width: 100%; min-width: 100px" }, "\u00A0")),
            xania.tag("div", { className: "xn-list-scrollable", style: "overflow: auto; height: 100%;", role: "listbox" },
                xania.tag("div", { className: "xn-content", style: "padding-top: 0px; " },
                    xania.tag("table", { style: "width: 100%;" },
                        xania.tag("tbody", { "data-bind": "foreach: view" },
                            xania.tag(xania_1.ForEach, { expr: xania_1.fs("for row in data") },
                                xania.tag("tr", { role: "listitem", onClick: this.onRowClick, className: ["xn-list-item", xania_1.fs("row = activeRow -> ' xn-grid-row-activated'"),
                                        xania_1.fs("row.alternate -> ' xn-grid-row-alternate'"), xania_1.fs("row.updated -> ' xn-grid-row-updated'")] },
                                    xania.tag("td", null,
                                        xania.tag("div", { className: "xn-grid-row-header" },
                                            xania.tag("span", { className: ["fa", xania_1.fs("row = activeRow -> ' fa-edit'")] }))),
                                    xania.tag(xania_1.ForEach, { expr: xania_1.fs("for column in columns") },
                                        xania.tag("td", { role: "gridcell", tabindex: "-1", className: "xn-grid-cell" },
                                            xania.tag("div", { className: "xn-grid-cell-content" },
                                                xania.tag("a", { href: "#" }, xania_1.fs("row.get column.field"))))),
                                    xania.tag("td", { role: "gridcell", tabindex: "-1", className: "xn-grid-cell", style: "width: 100%;" })))))))));
    };
    return DataGrid;
}());
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = DataGrid;
function bla() { }
exports.bla = bla;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ3JpZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImdyaWQudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxzQ0FBMEM7QUFDMUMsc0JBQW1CO0FBRW5CO0lBTUk7UUFBQSxpQkFpQkM7UUF0Qk8sU0FBSSxHQUFHLEVBQUUsQ0FBQztRQUNWLFlBQU8sR0FBRyxFQUFFLENBQUM7UUFDYixjQUFTLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLGlCQUFZLEdBQUcsSUFBSSxDQUFDO1FBcUI1QixlQUFVLEdBQUcsVUFBQyxLQUFLLEVBQUUsT0FBTztZQUN4QixJQUFJLFNBQVMsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sRUFBRSxDQUFDO1lBQzdDLEtBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1lBQzNCLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUV2QixFQUFFLENBQUMsQ0FBQyxPQUFPLEtBQUksQ0FBQyxZQUFZLEtBQUssVUFBVSxDQUFDLENBQUMsQ0FBQztnQkFDMUMsS0FBSSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsS0FBSSxDQUFDLENBQUM7WUFDdkMsQ0FBQztRQUNMLENBQUMsQ0FBQztRQTFCRSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxFQUFFLEtBQUssRUFBRSxNQUFNLEVBQUUsQ0FBQyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxDQUFDLENBQUM7UUFDdEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUl0QyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO1lBQzNCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO2dC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ekIsa0JBQXlCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRm9yRWFjaCwgZnMgfSBmcm9tIFwiLi4vc3JjL3hhbmlhXCJcclxuaW1wb3J0ICcuL2dyaWQuY3NzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRGF0YUdyaWQge1xyXG4gICAgcHJpdmF0ZSBkYXRhID0gW107XHJcbiAgICBwcml2YXRlIGNvbHVtbnMgPSBbXTtcclxuICAgIHByaXZhdGUgYWN0aXZlUm93ID0gbnVsbDtcclxuICAgIHByaXZhdGUgb25Sb3dDaGFuZ2VkID0gbnVsbDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmNvbHVtbnMucHVzaCh7IGZpZWxkOiBcIk5hbWVcIiB9KTtcclxuICAgICAgICB0aGlzLmNvbHVtbnMucHVzaCh7IGZpZWxkOiBcIkVtYWlsXCIgfSk7XHJcbiAgICAgICAgdGhpcy5jb2x1bW5zLnB1c2goeyBmaWVsZDogXCJSb2xlc1wiIH0pO1xyXG5cclxuICAgICAgICAvLyBFbWFpbENvbmZpcm1lZFxyXG5cclxuICAgICAgICBmb3IgKHZhciBlID0gMDsgZSA8IDEwMDsgZSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YS5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGlkeDogZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHsgSWQ6IGUsIE5hbWU6IGBVc2VyICR7ZX1gLCBFbWFpbDogYHVzZXIke2V9QHhhbmlhLm5sYCwgUm9sZXM6IFtcIlJvbGUgMVwiLCBcIlJvbGUgMTJcIl0sIEVtYWlsQ29uZmlybWVkOiBlICUgMyA9PT0gMCB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0KGZpZWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YVtmaWVsZF07XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgYWx0ZXJuYXRlOiBlICUgMiA9PT0gMFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25Sb3dDbGljayA9IChldmVudCwgY29udGV4dCkgPT4ge1xyXG4gICAgICAgIHZhciBhY3RpdmVSb3cgPSBjb250ZXh0LmdldCgncm93JykudmFsdWVPZigpO1xyXG4gICAgICAgIHRoaXMuYWN0aXZlUm93ID0gYWN0aXZlUm93O1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5vblJvd0NoYW5nZWQgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICB0aGlzLm9uUm93Q2hhbmdlZChhY3RpdmVSb3csIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgdmlldyh4YW5pYSkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJ1c2Vyc1wiIGRhdGEtbW9kZWxpZD1cIklkXCIgY2xhc3NOYW1lPVwieG4tZ3JpZFwiIHJvbGU9XCJncmlkXCIgZGF0YS1pdGVtaGVpZ2h0PVwiMzFcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwieG4tYm9yZGVyLWJveCB4bi1ncmlkLWhlYWRlclwiIHN0eWxlPVwiei1pbmRleDogMTAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiByb2xlPVwicm93aGVhZGVyXCIgY2xhc3NOYW1lPVwieG4tZ3JpZC1yb3ctaGVhZGVyIHhuLWdyaWQtaGVhZGVyLWNlbGxcIj4mbmJzcDs8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8Rm9yRWFjaCBleHByPXtmcyhcImZvciBjb2x1bW4gaW4gY29sdW1uc1wiKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1pZHg9XCJVc2VyTmFtZVwiIHJvbGU9XCJncmlkY2VsbFwiIGNsYXNzTmFtZT1cInhuLWdyaWQtaGVhZGVyLWNlbGxcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwieG4tZ3JpZC1jZWxsLWNvbnRlbnRcIj48YSBkYXRhLWJpbmQ9XCJjbGljazogc29ydC5iaW5kKCRkYXRhLCAnVXNlck5hbWUnKVwiPntmcyhcImNvbHVtbi5maWVsZFwiKX08L2E+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvRm9yRWFjaD5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInhuLWdyaWQtaGVhZGVyLWNlbGxcIiBzdHlsZT1cIndpZHRoOiAxMDAlOyBtaW4td2lkdGg6IDEwMHB4XCI+Jm5ic3A7PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInhuLWxpc3Qtc2Nyb2xsYWJsZVwiIHN0eWxlPVwib3ZlcmZsb3c6IGF1dG87IGhlaWdodDogMTAwJTtcIiByb2xlPVwibGlzdGJveFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwieG4tY29udGVudFwiIHN0eWxlPVwicGFkZGluZy10b3A6IDBweDsgXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBzdHlsZT1cIndpZHRoOiAxMDAlO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRib2R5IGRhdGEtYmluZD1cImZvcmVhY2g6IHZpZXdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9yRWFjaCBleHByPXtmcyhcImZvciByb3cgaW4gZGF0YVwiKX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ciByb2xlPVwibGlzdGl0ZW1cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vblJvd0NsaWNrfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtbXCJ4bi1saXN0LWl0ZW1cIiwgZnMoXCJyb3cgPSBhY3RpdmVSb3cgLT4gJyB4bi1ncmlkLXJvdy1hY3RpdmF0ZWQnXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcyhcInJvdy5hbHRlcm5hdGUgLT4gJyB4bi1ncmlkLXJvdy1hbHRlcm5hdGUnXCIpLCBmcyhcInJvdy51cGRhdGVkIC0+ICcgeG4tZ3JpZC1yb3ctdXBkYXRlZCdcIildfT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInhuLWdyaWQtcm93LWhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1tcImZhXCIsIGZzKFwicm93ID0gYWN0aXZlUm93IC0+ICcgZmEtZWRpdCdcIildfT48L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvckVhY2ggZXhwcj17ZnMoXCJmb3IgY29sdW1uIGluIGNvbHVtbnNcIil9PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCByb2xlPVwiZ3JpZGNlbGxcIiB0YWJpbmRleD1cIi0xXCIgY2xhc3NOYW1lPVwieG4tZ3JpZC1jZWxsXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwieG4tZ3JpZC1jZWxsLWNvbnRlbnRcIj48YSBocmVmPVwiI1wiPntmcyhcInJvdy5nZXQgY29sdW1uLmZpZWxkXCIpfTwvYT48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JFYWNoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHJvbGU9XCJncmlkY2VsbFwiIHRhYmluZGV4PVwiLTFcIiBjbGFzc05hbWU9XCJ4bi1ncmlkLWNlbGxcIiBzdHlsZT1cIndpZHRoOiAxMDAlO1wiPjwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9Gb3JFYWNoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYmxhKCkgeyB9Il19