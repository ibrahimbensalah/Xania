<!doctype html>
<html lang="en" data-framework="xaniajs">
<head>
    <meta charset="utf-8">
    <title>Xania JS • TodoMVC</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/index.css">

    <script src="../fun.js"></script>
    <script src="../core.js"></script>
    <script src="todomvc.js"></script>
</head>
<body>
    <div style="display: block; clear: both; overflow: hidden; width: 100%;">
        <div style="float: left; width: 33%;" id="panel1"></div>
        <div style="float: left; width: 33%;" id="panel2"></div>
        <div style="float: left; width: 33%;" id="panel3"></div>
    </div>
    <footer class="info">
        <p>Double-click to edit a todo</p>
        <p>
            Created by <a href="http://github.com/ibrahimbensalah">Ibrahim ben Salah</a>
        </p>
        <p>
            Powered by <a href="http://github.com/ibrahimbensalah/xania">Xania JS</a>
        </p>
    </footer>
    <script>
        var viewModel = {
            app: new TodoApp(),
            show: new State('all'),
            active: function (todo) {
                return todo.completed === false;
            },
            completed: function (todo) {
                return todo.completed === true;
            },
            todoPredicate: function (todo) {
                var value = this.show.get();
                switch (value) {
                    case 'all':
                        return true;
                    default:
                        return todo.completed === (value === 'completed');
                }
            }
        };

        new Binder(viewModel).import("todoapp.html")
            .then(function(doc) {
                var tpl = doc.querySelector("template");
                this.bind(tpl, "#panel1")
                    .bind(tpl, "#panel2")
                    .bind(tpl, "#panel3");
            });
            
    </script>
</body>
</html>