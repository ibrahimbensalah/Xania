@model Xania.TemplateJS.Controllers.ClientResult


<div class="animated fadeIn main-content"></div>

@section scripts {
<script>
    var basePath = '@Model.Base';
    var appName = '@Model.Name';
    var appPath = basePath + appName;
    var actionPath = '@(Model.Args.Any() ? string.Join("", Model.Args.Select(x => "/" + x)) : "/index")';
    System.config({
      packages: { '/': {} },
      paths: {
        "github:*": "/jspm_packages/github/*",
        "npm:*": "/jspm_packages/npm/*",
        "ts:*": "/jspm_packages/npm/*"
      },
      map: {
        "css": "github:systemjs/plugin-css@0.1.32",
        "ts": "github:frankwallis/plugin-typescript@7.0.6",
        "less": "npm:systemjs-less-plugin@2.0.0"
      },
      meta: {
        '*.css': { loader: 'css' },
        '*.less': { loader: 'less' }
      }
    });

    function importModule(path) {
      return System.import(path);
    }

    function load(names, callback) {
      var promises = names.map(x => System.import(x));
      Promise.all(promises).then(function (modules) {
        callback.apply(null, modules);
      });
    }

    load([appPath, '/src/mvc'], function (app, mvc) {
      mvc.boot(basePath, appPath, app)
        .action(actionPath);
    });
</script>
}